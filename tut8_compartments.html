<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>CARLsim: Tutorial 8: Multi-Compartment Models</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="CARLsimStyles.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CARLsim
   &#160;<span id="projectnumber">4.0.0-beta</span>
   </div>
   <div id="projectbrief">CARLsim: a GPU-accelerated SNN simulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="usergroup0.html"><span>User&#160;Guide</span></a></li>
      <li><a href="usergroup1.html"><span>Tutorial</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('tut8_compartments.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Tutorial 8: Multi-Compartment Models </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#tut8s1_intro">8.1 Introduction</a></li>
<li class="level1"><a href="#tut8s2_parameter_file">8.2 Setting-Up Multi-Compartment Neurons</a></li>
</ul>
</div>
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>Stanislav Listopad</dd></dl>
<h1><a class="anchor" id="tut8s1_intro"></a>
8.1 Introduction</h1>
<p>In this tutorial we introduce generating multi-compartment models in <a class="el" href="classCARLsim.html" title="CARLsim User Interface This class provides a user interface to the public sections of CARLsimCore sou...">CARLsim</a>. We set-up a group of four compartment (four layer) neurons. We then proceed to inject current into one of the compartments (soma) and then observe the effects of this current injection on all of the connected compartments.</p>
<p>The multi-compartment tutorial can be found at doc/source/tutorial/8_compartments/src/ directory.</p>
<h1><a class="anchor" id="tut8s2_parameter_file"></a>
8.2 Setting-Up Multi-Compartment Neurons</h1>
<p>We first set-up several <a class="el" href="classCARLsim.html" title="CARLsim User Interface This class provides a user interface to the public sections of CARLsimCore sou...">CARLsim</a> groups. These groups must have the same number of neurons and cannot be synaptically connected to each other.</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> grpSoma = sim-&gt;<a class="code" href="classCARLsim.html#a6e11c10b6b079715074d857452c42e11">createGroup</a>(<span class="stringliteral">&quot;excit&quot;</span>, N, <a class="code" href="carlsim__definitions_8h.html#a71b1b059a7ff0783d39e22b9b1028d90">EXCITATORY_NEURON</a>);    <span class="comment">// grpSoma </span></div>
<div class="line"><span class="keywordtype">int</span> grpD_one = sim-&gt;<a class="code" href="classCARLsim.html#a6e11c10b6b079715074d857452c42e11">createGroup</a>(<span class="stringliteral">&quot;excit&quot;</span>, N, <a class="code" href="carlsim__definitions_8h.html#a71b1b059a7ff0783d39e22b9b1028d90">EXCITATORY_NEURON</a>);   <span class="comment">// grpD_one</span></div>
<div class="line"><span class="keywordtype">int</span> grpD_two = sim-&gt;<a class="code" href="classCARLsim.html#a6e11c10b6b079715074d857452c42e11">createGroup</a>(<span class="stringliteral">&quot;excit&quot;</span>, N, <a class="code" href="carlsim__definitions_8h.html#a71b1b059a7ff0783d39e22b9b1028d90">EXCITATORY_NEURON</a>);   <span class="comment">// grpD_two </span></div>
<div class="line"><span class="keywordtype">int</span> grpD_three = sim-&gt;<a class="code" href="classCARLsim.html#a6e11c10b6b079715074d857452c42e11">createGroup</a>(<span class="stringliteral">&quot;excit&quot;</span>, N, <a class="code" href="carlsim__definitions_8h.html#a71b1b059a7ff0783d39e22b9b1028d90">EXCITATORY_NEURON</a>); <span class="comment">// grpD_three </span></div>
</div><!-- fragment --><p>We then set-up neuron parameters as we would normally with <a class="el" href="classCARLsim.html" title="CARLsim User Interface This class provides a user interface to the public sections of CARLsimCore sou...">CARLsim</a> groups. Afterwards, we set-up coupling constants for the compartments via the setCompartmentParameters method.</p>
<div class="fragment"><div class="line">sim-&gt;<a class="code" href="classCARLsim.html#adb7dd274136fd2a3307c0f7f0767275a">setCompartmentParameters</a>(grpD_one, 28.396f, 5.526f); <span class="comment">// grpD_one 28 and 5</span></div>
<div class="line">sim-&gt;<a class="code" href="classCARLsim.html#adb7dd274136fd2a3307c0f7f0767275a">setCompartmentParameters</a>(grpD_two, 50.474f, 0.0f);   <span class="comment">// grpD_two 50 and 0</span></div>
<div class="line">sim-&gt;<a class="code" href="classCARLsim.html#adb7dd274136fd2a3307c0f7f0767275a">setCompartmentParameters</a>(grpD_three, 0.0f, 49.14f);  <span class="comment">// grpD_three 0 and 49</span></div>
<div class="line">sim-&gt;<a class="code" href="classCARLsim.html#adb7dd274136fd2a3307c0f7f0767275a">setCompartmentParameters</a>(grpSoma, 116.861f, 4.60f);  <span class="comment">// grpSoma (somatic) 116 and 4</span></div>
</div><!-- fragment --><p>Now, each of the above defined groups is a compartment.</p>
<p>The following formula is used to calculate the current going into each compartment: Idendr = Gdown*(V - Vdown) + Sum(up)(Gup*(V - Vup))</p>
<p>We then proceed to connect the compartment groups together.</p>
<div class="fragment"><div class="line">sim-&gt;<a class="code" href="classCARLsim.html#a7ce184c0de7c3d3c80b27a1ea7bb3e59">connectCompartments</a>(grpD_two, grpD_one);</div>
<div class="line">sim-&gt;<a class="code" href="classCARLsim.html#a7ce184c0de7c3d3c80b27a1ea7bb3e59">connectCompartments</a>(grpD_one, grpSoma);</div>
<div class="line">sim-&gt;<a class="code" href="classCARLsim.html#a7ce184c0de7c3d3c80b27a1ea7bb3e59">connectCompartments</a>(grpSoma, grpD_three);</div>
</div><!-- fragment --><p>These four compartmentally connected <a class="el" href="classCARLsim.html" title="CARLsim User Interface This class provides a user interface to the public sections of CARLsimCore sou...">CARLsim</a> groups now represent N neurons with four compartments each (1 soma compartment &amp; 3 dendrite compartments).</p>
<p>Note: Any given compartment group can only be directly connected to at most 4 other compartment groups.</p>
<p>Finally, we proceed to run the <a class="el" href="classCARLsim.html" title="CARLsim User Interface This class provides a user interface to the public sections of CARLsimCore sou...">CARLsim</a> network as we would normally. We inject current into the soma using the setExternalCurrent function:</p>
<div class="fragment"><div class="line">sim-&gt;<a class="code" href="classCARLsim.html#a875708f5a61243433e23e99ce4d6aea1">setExternalCurrent</a>(grpSoma, 600);</div>
</div><!-- fragment --><p>The soma compartment and one neighbouring dendrite compartment will spike as a result. Changing the coupling constants, injection current, or neuron parameters will affect the results. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Nov 24 2017 13:54:48 for CARLsim by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
